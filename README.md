# AI Agent System - Web & Android App

A conversational AI agent system with Express backend, n8n integration, and native Android app support.

## Features

âœ¨ **Modern Web Interface**
- Clean, responsive design that works on all devices
- Real-time chat with AI agents
- Dark/Light theme support
- Model selection (Ollama integration)
- Conversation history management

ðŸ“± **Native Android App**
- Fully responsive mobile interface
- Optimized touch targets for mobile
- Safe area support for notched phones
- Offline-capable UI (requires network for backend)
- Settings to configure backend URL

ðŸ”Œ **Backend Integration**
- Express.js REST API
- n8n workflow integration
- Ollama model support
- CORS enabled for cross-origin requests

## Quick Start - Web App

1. **Install dependencies:**
```bash
npm install
```

2. **Start the server:**
```bash
npm start
```

3. **Open in browser:**
```
http://localhost:3000
```

## Quick Start - Android App

### Prerequisites
1. Install Android Studio: https://developer.android.com/studio
2. Set up environment variables (see `BUILD-ANDROID-APK.md`)

### Build APK in 5 Steps

1. **Generate app icons:**
   - Open `generate-icons.html` in your browser
   - Download all icons to `public/icons/`

2. **Sync web assets:**
```powershell
npx cap sync
```

3. **Open Android Studio:**
```powershell
npx cap open android
```

4. **Build APK:**
   - In Android Studio: Build â†’ Build APK(s)
   - Or command line: `npm run cap:build:apk`

5. **Install on phone:**
```powershell
adb install android\app\build\outputs\apk\debug\app-debug.apk
```

**ðŸ“– For detailed instructions, see:** `BUILD-ANDROID-APK.md` or `QUICKSTART.md`

## Project Structure

```
ai-agent-system/
â”œâ”€â”€ public/                 # Frontend (Web & Android)
â”‚   â”œâ”€â”€ index.html         # Main app (fully responsive!)
â”‚   â”œâ”€â”€ manifest.json      # PWA/App manifest
â”‚   â””â”€â”€ icons/             # App icons
â”œâ”€â”€ android/               # Android project (generated by Capacitor)
â”œâ”€â”€ server.js              # Express backend
â”œâ”€â”€ capacitor.config.ts    # Capacitor configuration
â”œâ”€â”€ package.json           # Dependencies & scripts
â”œâ”€â”€ generate-icons.html    # Icon generator tool
â”œâ”€â”€ BUILD-ANDROID-APK.md   # Detailed Android build guide
â””â”€â”€ QUICKSTART.md          # Quick reference guide
```

## Available Scripts

```bash
# Start Express server
npm start

# Start with auto-reload (development)
npm run dev

# Sync web assets to Android
npm run cap:sync

# Open Android project in Android Studio
npm run cap:open:android

# Build APK from command line
npm run cap:build:apk
```

## Configuration

### Backend Configuration

Create a `.env` file in the root directory:

```env
PORT=3000
OLLAMA_URL=http://localhost:11434
N8N_WEBHOOK_URL=your_n8n_webhook_url_here
```

### Mobile App Configuration

The app includes a Settings screen where users can configure:
- Backend API URL (for connecting to your Express server)
- Theme preferences (dark/light)

Alternatively, edit `public/index.html` line 237 to set a default:
```javascript
let API_BASE = 'http://YOUR_COMPUTER_IP:3000';
```

## Connecting Mobile App to Backend

Your phone and computer must be on the same WiFi network.

1. Find your computer's IP address:
```powershell
ipconfig
# Look for IPv4 Address (e.g., 192.168.1.100)
```

2. In the mobile app:
   - Tap Settings âš™
   - Enter: `http://192.168.1.100:3000` (use your actual IP)
   - Save

3. Make sure Express server is running:
```bash
npm start
```

## API Endpoints

- `GET /` - Web interface
- `GET /api/health` - Health check
- `POST /api/chat` - Send chat message
- `GET /api/conversation` - Get conversation history
- `DELETE /api/conversation` - Clear conversation
- `GET /api/models` - Get available Ollama models
- `POST /api/task` - Execute task (n8n integration)

## Technologies Used

**Frontend:**
- HTML5, CSS3 (Modern responsive design)
- Vanilla JavaScript (no framework dependencies)
- PWA-ready with manifest.json

**Mobile:**
- Capacitor 7 (Web to Native conversion)
- Android SDK

**Backend:**
- Express.js
- Axios for HTTP requests
- CORS for cross-origin support
- dotenv for configuration

**AI Integration:**
- Ollama (local AI models)
- n8n (workflow automation)

## Mobile-Specific Features

âœ… **Responsive Design**
- Mobile-first approach
- Touch-friendly buttons (min 40x40px)
- Optimized font sizes for readability
- Hidden status bar on mobile for more space

âœ… **PWA Features**
- Installable as Progressive Web App
- Offline-capable UI
- App manifest with icons

âœ… **Native App Features**
- Splash screen
- Status bar styling
- Safe area insets
- Native Android packaging

## Development Notes

### For Web Development
- Edit files in `public/` directory
- Server auto-serves from `public/`
- Changes are live (refresh browser)

### For Android Development
- Edit files in `public/` directory
- Run `npx cap sync` after changes
- Rebuild APK to see changes on phone

### Tips
- Use `generate-icons.html` for easy icon creation
- Test on mobile browser first before building APK
- Use Chrome DevTools device emulation for testing
- Keep Express server running for the app to work

## Troubleshooting

### Web App Issues
- **Can't connect to Ollama:** Check OLLAMA_URL in .env
- **CORS errors:** Make sure CORS is enabled (it is by default)

### Android App Issues
- **Can't build APK:** See troubleshooting in `BUILD-ANDROID-APK.md`
- **App won't connect:** Check phone and PC are on same WiFi
- **Icons missing:** Run icon generator before building

### Common Solutions
1. Restart Express server: `npm start`
2. Clear conversation: Click "Clear" button
3. Re-sync Android: `npx cap sync`
4. Check firewall allows port 3000

## License

MIT

## Support

- **Web/Backend Issues:** Check server console output
- **Android Build Issues:** See `BUILD-ANDROID-APK.md`
- **Quick Reference:** See `QUICKSTART.md`

---

**Ready to go mobile! ðŸ“±** Follow the Android build guide to get your app on your phone.
